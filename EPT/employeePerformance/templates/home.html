{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load tz %}
{% get_current_timezone as TIME_ZONE %}

<h2>
{% if 17 >= TIME_ZONE >= 12 %}
    Good Afternoon!
{% elif 24 >= TIME_ZONE >= 17 %}
    Good Evening!
{% else %}
    Good Morning!
{% endif %}</h2>

<div class="table-responsive">
<table class="table">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Employment</th>
        <th scope="col">Target</th>
        <th scope="col">Performance</th>
        <th scope="col">Status</th>
        <th scope="col" style="width: 25px"><a href="{% url 'addEmployee' %}"><img src="{% static '/images/vector.svg' %}" class="image" style="width:20px;"></a></th>
      </tr>
    </thead>
    <tbody>

{% if Employee %}
    {% for employee in Employee %}
        <tr>
            <td>{{ employee.Nama }}</td>
            <td>{{ employee.Employment_Status }}</td>
            <td>{% if employee.Employment_Status == "Full-Time" %}
                Rp 7.500.000
                {% elif employee.Employment_Status == "Contract" %}
                Rp 5.000.000
                {% else %}
                Rp 3.000.000
                {% endif %}</td>
            <td>Rp {{ employee.Monthly_Performance }}</td>
            <td>{% if employee.Employment_Status == "Full-Time" and employee.Monthly_Performance >= 7500000 %}
                <div style="width:125px;height:25px;border-radius:20px;text-align:center;line-height:22px;background-color:green">Surpassed</div>
                {% elif employee.Employment_Status == "Contract" and employee.Monthly_Performance >= 5000000 %}
                <div style="width:125px;height:25px;border-radius:20px;text-align:center;line-height:22px;background-color:green">Surpassed</div>
                {% elif employee.Employment_Status == "Internship" and employee.Monthly_Performance >= 3000000 %}
                <div style="width:125px;height:25px;border-radius:20px;text-align:center;line-height:22px;background-color:green">Surpassed</div>
                {% else %}
                <div style="width:125px;height:25px;border-radius:20px;text-align:center;line-height:23px;background-color:red">Below Target</div>
                {% endif %}</td>
            <td><a href="{% url 'updateEmployee' employee.id %}"><img src="{% static '/images/editbutton-84380-1@2x.png' %}" class="image" style="width:20px;"></a></td>
        </tr>
    {% endfor %}
{% endif %}    
</div>


{% endblock %}

<style>
    .circle {
        display: inline-block;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: 2px solid #000;
        text-align: center;
        line-height: 26px; /* Adjust this to vertically center the content */
    }
</style>